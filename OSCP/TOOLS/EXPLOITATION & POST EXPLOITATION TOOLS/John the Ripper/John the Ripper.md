
This is the community-enhanced, "jumbo" version of John the Ripper. It has a lot of code, documentation, and data contributed by jumbo developers and the user community. It is easy for new code to be added to jumbo, and the quality requirements are low, although lately we've started subjecting all contributions to quite some automated testing. This means that you get a lot of functionality that is not necessarily "mature", which in turn means that bugs in this code are to be expected.

John the Ripper homepage is:

[https://www.openwall.com/john/](https://www.openwall.com/john/)

If you have any comments on this release or on JtR in general, please join the john-users mailing list and post in there:

[https://www.openwall.com/lists/john-users/](https://www.openwall.com/lists/john-users/)

For contributions to John the Ripper jumbo, please use pull requests on GitHub:

[https://github.com/openwall/john/blob/bleeding-jumbo/CONTRIBUTING.md](https://github.com/openwall/john/blob/bleeding-jumbo/CONTRIBUTING.md)

Included below is basic John the Ripper core documentation.

---

## John the Ripper password cracker.

[](https://github.com/openwall/john#john-the-ripper-password-cracker)

John the Ripper is a fast password cracker, currently available for many flavors of Unix, macOS, Windows, DOS, BeOS, and OpenVMS (the latter requires a contributed patch). Its primary purpose is to detect weak Unix passwords. Besides several crypt(3) password hash types most commonly found on various Unix flavors, supported out of the box are Kerberos/AFS and Windows LM hashes, as well as DES-based tripcodes, plus hundreds of additional hashes and ciphers in "-jumbo" versions.

## How to install.

[](https://github.com/openwall/john#how-to-install)

See [INSTALL](https://github.com/openwall/john/blob/bleeding-jumbo/doc/INSTALL) for information on installing John on your system.

## How to use.

[](https://github.com/openwall/john#how-to-use)

To run John, you need to supply it with some password files and optionally specify a cracking mode, like this, using the default order of modes and assuming that "passwd" is a copy of your password file:

```
john passwd
```

or, to restrict it to the wordlist mode only, but permitting the use of word mangling rules:

```
john --wordlist=password.lst --rules passwd
```

Cracked passwords will be printed to the terminal and saved in the file called $JOHN/john.pot (in the documentation and in the configuration file for John, "$JOHN" refers to John's "home directory"; which directory it really is depends on how you installed John). The $JOHN/john.pot file is also used to not load password hashes that you already cracked when you run John the next time.

To retrieve the cracked passwords, run:

```
john --show passwd
```

While cracking, you can press any key for status, or 'q' or Ctrl-C to abort the session saving its state to a file ($JOHN/john.rec by default). If you press Ctrl-C for a second time before John had a chance to complete handling of your first Ctrl-C, John will abort immediately without saving. By default, the state is also saved every 10 minutes to permit for recovery in case of a crash.

To continue an interrupted session, run:

```
john --restore
```

These are just the most essential things you can do with John. For a complete list of command line options and for more complicated usage examples you should refer to OPTIONS and EXAMPLES, respectively.

Please note that "binary" (pre-compiled) distributions of John may include alternate executables instead of just "john". You may need to choose the executable that fits your system best, e.g. "john-omp" to take advantage of multiple CPUs and/or CPU cores.

## Features.

[](https://github.com/openwall/john#features)

John the Ripper is designed to be both feature-rich and fast. It combines several cracking modes in one program and is fully configurable for your particular needs (you can even define a custom cracking mode using the built-in compiler supporting a subset of C). Also, John is available for several different platforms which enables you to use the same cracker everywhere (you can even continue a cracking session which you started on another platform).

Out of the box, John supports (and autodetects) the following Unix crypt(3) hash types: traditional DES-based, "bigcrypt", BSDI extended DES-based, FreeBSD MD5-based (also used on Linux and in Cisco IOS), and OpenBSD Blowfish-based (now also used on some Linux distributions and supported by recent versions of Solaris). Also supported out of the box are Kerberos/AFS and Windows LM (DES-based) hashes, as well as DES-based tripcodes.

When running on Linux distributions with glibc 2.7+, John 1.7.6+ additionally supports (and autodetects) SHA-crypt hashes (which are actually used by recent versions of Fedora and Ubuntu), with optional OpenMP parallelization (requires GCC 4.2+, needs to be explicitly enabled at compile-time by uncommenting the proper OMPFLAGS line near the beginning of the Makefile).

Similarly, when running on recent versions of Solaris, John 1.7.6+ supports and autodetects SHA-crypt and SunMD5 hashes, also with optional OpenMP parallelization (requires GCC 4.2+ or recent Sun Studio, needs to be explicitly enabled at compile-time by uncommenting the proper OMPFLAGS line near the beginning of the Makefile and at runtime by setting the OMP_NUM_THREADS environment variable to the desired number of threads).

"-jumbo" versions add support for hundreds of additional hash and cipher types, including fast built-in implementations of SHA-crypt and SunMD5, Windows NTLM (MD4-based) password hashes, various macOS and Mac OS X user password hashes, fast hashes such as raw MD5, SHA-1, SHA-256, and SHA-512 (which many "web applications" historically misuse for passwords), various other "web application" password hashes, various SQL and LDAP server password hashes, and lots of other hash types, as well as many non-hashes such as SSH private keys, S/Key skeykeys files, Kerberos TGTs, encrypted filesystems such as macOS .dmg files and "sparse bundles", encrypted archives such as ZIP (classic PKZIP and WinZip/AES), RAR, and 7z, encrypted document files such as PDF and Microsoft Office's - and these are just some examples. To load some of these larger files for cracking, a corresponding bundled *2john program should be used first, and then its output fed into JtR -jumbo.

## Graphical User Interface (GUI).

[](https://github.com/openwall/john#graphical-user-interface-gui)

There is an official GUI for John the Ripper: Johnny.

Despite the fact that Johnny is oriented onto JtR core, all basic functionality is supposed to work in all versions, including jumbo.

Johnny is a separate program, therefore you need to have John the Ripper installed in order to use it.

More information about Johnny and its releases is on the wiki:

[https://openwall.info/wiki/john/johnny](https://openwall.info/wiki/john/johnny)

## Documentation.

[](https://github.com/openwall/john#documentation)

The rest of documentation is located in separate files, listed here in the recommended order of reading:

- [INSTALL](https://github.com/openwall/john/blob/bleeding-jumbo/doc/INSTALL) - installation instructions
- [OPTIONS](https://github.com/openwall/john/blob/bleeding-jumbo/doc/OPTIONS) - command line options and additional utilities
- [MODES](https://github.com/openwall/john/blob/bleeding-jumbo/doc/MODES) - cracking modes: what they are
- [CONFIG](https://github.com/openwall/john/blob/bleeding-jumbo/doc/CONFIG) (*) - how to customize
- [RULES](https://github.com/openwall/john/blob/bleeding-jumbo/doc/RULES) (*) - wordlist rules syntax
- [EXTERNAL](https://github.com/openwall/john/blob/bleeding-jumbo/doc/EXTERNAL) (*) - defining an external mode
- [EXAMPLES](https://github.com/openwall/john/blob/bleeding-jumbo/doc/EXAMPLES) - usage examples - strongly recommended
- [FAQ](https://github.com/openwall/john/blob/bleeding-jumbo/doc/FAQ) - guess
- [CHANGES](https://github.com/openwall/john/blob/bleeding-jumbo/doc/CHANGES) (*) - history of changes
- [CONTACT](https://github.com/openwall/john/blob/bleeding-jumbo/doc/CONTACT) (*) - how to contact the author or otherwise obtain support
- [CREDITS](https://github.com/openwall/john/blob/bleeding-jumbo/doc/CREDITS) (*) - credits
- [LICENSE](https://github.com/openwall/john/blob/bleeding-jumbo/doc/LICENSE) - copyrights and licensing terms
- [COPYING](https://github.com/openwall/john/blob/bleeding-jumbo/doc/COPYING) - GNU GPL version 2, as referenced by LICENSE above

(*) most users can safely skip these.

There are a lot of additional documentation files in jumbo's "doc" directory, which you'll also want to explore.

Happy reading!

**Credit:** This information was adapted from an excellent guide on [GitHub](https://github.com/openwall/john). Be sure to check out the original post for more details.

# TryHackMe: John The Ripper — Walkthrough


Hi! This is my walkthrough covering the hash cracking tool John The Ripper. I am making these walkthroughs to keep myself motivated to learn cyber security, and ensure that I remember the knowledge gained by THMs rooms.  
Join me on learning cyber security. I will try and explain concepts as I go, to differentiate myself from other walkthroughs.

Room URL: [https://tryhackme.com/room/johntheripper0](https://tryhackme.com/room/johntheripper0)

# Task 1 (John who?)

John the Ripper is a very popular hash cracking tool. It is very quickly and can deal with a large number of hash types.

## Hashes

A hash is the output of a hashing function that turns a piece of data of any length in another form that has a fixed length (depends on the hashing function used). This is done to hide the original value of the data, and for that reason it is often used to “hide” passwords. There are many popular hashing algorithms, such as MD4,MD5, SHA1 and NTLM.

If we take “tryhackme” and run it through an MD5 hashing algorithm, we end up with an output of: 5957aced018cad6f7b27101c9ac2437d. This is 32 characters long and this is the standard for the MD5 hash. Other hashing algorithm return hashes of different lengths.

## Why are hashes secure?

Hashing algorithms can only operate one way, and cannot simply be reversed. That doesn’t mean that cracking the hashes is impossible. To crack a hash you need to know the hashing algorithm used. You can the selected algorithm to hash a large number of word. You can then compare this to the password hash in your possession. If you are lucky then you can find the hash in the “dictionary” of hashes you created. You then know the password.

John the Ripper uses a similar approach to conduct fast brute force attacks on a large array of different hash types.

## Questions

**Read and understand the basic concepts of hashing and hash cracking**

> A**_nswer_**: No answer needed

# Task 2 (Setting up John the Ripper)

John the Ripper can used on a variety of operation systems. There are also different versions of John the Ripper available, with some extending the functionality of the core toolset. The most popular of these is called “Jumbo John”.

On TryHackMe’s AttackBoxes John the Ripper is already installed. If you are running Kali Linux or Parrot OS it should also be installed. If you do not have it installed you can install it by entering **_sudo apt install john_** in your terminal.

If you are using Windows, you can fetch Jumbo John , [here](https://www.openwall.com/john/k/john-1.9.0-jumbo-1-win64.zip) (64 bit) or for 32 bit systems [here](https://www.openwall.com/john/k/john-1.9.0-jumbo-1-win32.zip).

## Questions

What is the most popular extended version of John the Ripper?

> A**_nswer_**: Jumbo John

# **Task 3 (Wordlists)**

Wordlists are simply long lists of words that can be used for a variety of hacking use cases. In the case of John, we can use them to crack hashes, by comparing the hashed password to a great number of words (as discussed earlier).

On Parrot and Kali Linux (and TryHackMe’s AttackBoxes) you can find a number of useful wordlists in the /usr/share/wordlists directory. The most famous of these is called “rockyou.txt”, which consists of common passwords obtained from a data breach on a website called rockyou.com back in 2009.

## Questions

**What website was the rockyou.txt wordlist created from a breach on?**

> A**_nswer_**: rockyou.com

# Task 4 (Cracking Basic Hashes)

Let’s look at how to use John the Ripper. The basic syntax of John the Ripper commands is as follows:

john [options] [path to file to hash]

But to run john in the most simple form, we need to specify a wordlist:

john --wordlist=[path to wordlist] [path to file to hash]

John is smart enough to detect the type of hash it is given. If you know what hashing algorithm was used you can use the format flag:

john --wordlist=[path to wordlist] --format=[format identifier] [path to file to hash]

Putting it all together with example values you get the following:

john --wordlist=/usr/share/wordlists/rockyou.txt --format=md5 hash.txt

**What type of hash is hash1.txt?**

![](https://miro.medium.com/v2/resize:fit:579/1*Zez4JKioj16IMCUzBwWwaA.png)

Identifying the hash as type MD5

> A**_nswer_**: MD5

**What is the cracked value of hash1.txt?**

We know the type is md5. To use this format in john we often need to add “raw-” in front of the format when specifying the format string.

john --wordlist=/usr/share/wordlists/rockyou.txt --format=raw-md5 hash1

![](https://miro.medium.com/v2/resize:fit:700/1*caSFWTqObKVnWgoZDLL3lg.png)

Running john on the hash

> A**_nswer_**: biscuit

**What type of hash is hash2.txt?**

> A**_nswer_**: SHA1

**What is the cracked value of hash2.txt**

The format is sha1, so we will specify “raw-sha1” as format:

![](https://miro.medium.com/v2/resize:fit:700/1*w4AsDQinayOenYeWmkuHRw.png)

Once more running john

> A**_nswer_**: kangeroo

**What type of hash is hash3.txt?**

> A**_nswer_**: SHA256

**What is the cracked value of hash3.txt**

![](https://miro.medium.com/v2/resize:fit:700/1*g5iUcmxdE-7_P8U-6MwMeA.png)

And another time running john

> A**_nswer_**: microphone

**What type of hash is hash4.txt?**

> A**_nswer_**: Whirlpool

**What is the cracked value of hash4.txt**

When in doubt about the format string, we can use the following command:

john --list=formats | grep -iF “whirlpool”

![](https://miro.medium.com/v2/resize:fit:682/1*KjDjfq43XvT1uQqZ3y6-UQ.png)

Listing the formats that mention whirlpool

I guess whirlpool will do:

![](https://miro.medium.com/v2/resize:fit:700/1*MB-OGkWp0e5XaCFAHEAfkg.png)

Running john with the whirlpool hash type

> **_Answer_**: colossal

# Task 5 (Cracking Windows Authentication Hashes)

We now have a basic knowledge of using John the Ripper. In this task we will look at cracking authentication hashes. These are a kind of hash that store the passwords stored by operating systems. To be able to get your hands on these hashes you need to be a user with the right privileges.

Let’s take a look at authentication hashes on the Windows platform. More specifically we are going to look at NThash (or NTLM), a hash format that is used by modern Windows machines to store user and service passwords.

You can get your hands on these hashes by dumping the Security Account Manager (SAM) database, or from the Active Directory database. In many cases there are better ways than cracking these hashes to continue privilege escalation, but in case of weak password policies cracking the hash is a solid tactic.

Let’s start cracking a ntlm.txt file! Download it from the THM room.

## Questions

What do we need to set the “format” flag to, in order to crack this?

john --list=formats | grep -iF “ntlm”

![](https://miro.medium.com/v2/resize:fit:700/1*2Oixhweuwi1BKjJtm0BzMw.png)

Listing hash types that mention ntlm

A lot of options actually. A quick round of googling gave me the answer: NT.

> A**_nswer_**: NT

What is the cracked value of this password?

![](https://miro.medium.com/v2/resize:fit:700/1*1EGGPKj14viwJm0NU3RnAQ.png)

Cracking another hash with john

> A**_nswer_**: mushroom

# Task 5 (Cracking /etc/shadow hashes)

The Linux alternative to a SAM database on Windows is the /etc/shadow file. This contains password hashes, as well as other information, such as password change dates and expiration information. This file is normally only accessible by the root user, so you must have gained sufficient privileges.

For John to understand cracking /etc/shadow passwords, it needs to have given the /etc/passwd file as well. If you can’t remember, this file tracks all users that have access to the system.

A tool was build on top of john which can help us with it, which is called unshadow. It can be used like this:

`unshadow [path to passwd file] [path to shadow file] > unshadowed.txt`

After running unshadow we now have the output saved in a file called _unshadowed.txt_. Again, you probably won’t need to give the input format ( -format) to john, but in some cases it might be necessary.

Now, let’s try cracking a etc/shadow password hash of the root user, which is available from the THM room page (etchashes.txt).

## Questions

**What is the root password?**

The file contents of etchashes.txt are as follows:

![](https://miro.medium.com/v2/resize:fit:700/1*OEKY7xlCPt6mQtAVj2fMpA.png)

File contents of etchashes.txt

The second to last line contains the contents of etc/passwd/. The contents of etc/shadow is on the last line. Here is a great resource to understand the /etc/shadow file:

[https://www.cyberciti.biz/faq/understanding-etcshadow-file/](https://www.cyberciti.biz/faq/understanding-etcshadow-file/)

As you can read, the hash starts with $6$, which points us to the SHA-512 hash format. Let’s start by using unshadow. Before we can do this we need to insert both the lines in separate files like so:

![](https://miro.medium.com/v2/resize:fit:700/1*lU1MN-2bG3Y-5zDjKp1jRw.png)

Adding shadow and passwd lines in separate files

Now we are ready to run unshadow:

`unshadow passwd shadow > unshadowed.txt`

Follow this by running john:

john --wordlist=/usr/share/wordlists/rockyou.txt --format=sha512crypt unshadowed.txt

![](https://miro.medium.com/v2/resize:fit:700/1*ZPs7WZIogVWOAetRTMgoLw.png)

And again…

We got the password!

> A**_nswer_**: 1234

# Task 6 (Single Crack Mode)

During the previous exercises we have been using John’s wordlist mode. But there is another mode: single crack mode. In essence, this mode uses the user’s username, full name and/or home directory to try and figure out the password. It does this by for example changing the letters and numbers in the username.

Let’s look at an example with the username Markus:

Some possible passwords could be:

- Markus1, Markus2, Markus3 (etc.)
- MArkus, MARkus, MARKus (etc.)
- Markus!, Markus$, Markus* (etc.)

This technique is called word mangling. John creates a new wordlist based on information of the user.This is exploiting how poor passwords can be based off of information about the username.

As mentioned before, in addition to usernames, other info can be used in the mangling. It does this by reading the so called Gecos fields. Both the /etc/shadow and /etc/passwd files contains these Gecos fields (separated by a colon (:), and john can make use of these fields to add to the wordlist.

To use single crack mode, the command is quite similar to what we have seen before:

`john --single --format=[format] [path to file]`

So you just have to add the — single flag.

Note: when using single crack mode, you need to prepend the hash with the username that the hash belongs to.

Now, let’s try and hack the hash that is attached to the THM room. It belongs to a user called “Joker”.

## Questions

**What is Joker’s password?**

Let’s start by adding the username and hash together to a file.

![](https://miro.medium.com/v2/resize:fit:700/1*35wTcrdbTzW9ZMoMNSaSxw.png)

Saving the hash with prefix to a file

Identifying the hash type on hashes.com identifies the hash type as MD5:

![](https://miro.medium.com/v2/resize:fit:700/1*kIm27mbOjHz5nWyyXjPeAw.png)

We also got the password cracked, but let’s do it with john :)

john --single --format=raw-md5 hash7

![](https://miro.medium.com/v2/resize:fit:700/1*W6mZfIAKxAZ116ocbJd2eg.png)

Using john in single mode

There we have it.

> **_Answer_**: Jok3r

# Task 8 (Custom Rules)

The previous example was a very basic one of using the single crack mode. We can define our own custom rules to dynamically create passwords. This is very useful, especially if you know something more about the password structure.

This can be the case when certain organisation have password complexity requirements, such as using capitals, numbers and symbols. We can exploit the fact that most users will be predictable in the location of these symbols. Many people will put the capital in the front and the numbers and symbols in the end. We can exploit this fact!

Custom rules are defined in the john.conf file, usually located in /etc/john/. In the case of the TryHackMe Attackboxes, they are located at /opt/john/. Let’s talk about the syntax of these rules.

We first define the name of our rule. We put this on the first line and could look something like this:

`[List.Rules:THMRules]`

The name of the rule is followed by a regex style pattern, which I won’t cover here. It could look something like this:

`cAz"[0-9] [!£$%@]"`

A good overview is found here: [https://cheatography.com/davechild/cheat-sheets/regular-expressions/](https://cheatography.com/davechild/cheat-sheets/regular-expressions/)

Finally, we can then use this custom rule from john using the `--rule=THMRules` flag. Bear in mind that Jumbo John comes with a large variety of custom rules, so have a look at these first!

## Questions

**What do custom rules allow us to exploit?**

> **_Answer_**: password complexity predictability

**What rule would we use to add all capital letters to the end of the word?**

We use Az when we want to append our password with certain characters. We then define the characters which should be appended by adding these within square brackets surrounded by quotes. Since we want capital letters this part should be “[A-Z]”. Everything together it would look like this:

> **_Answer_**: Az”[A-Z]”

**What flag would we use to call a custom rule called “THMRules”**

> **_Answer_**: — rule=THMRules

# **Task 9 (**Cracking a Password Protected Zip File**)**

It is time to try and crack a password protected zip file. For this we are gonna need a tool from the John toolbox to convert the zip file to something John understands. But besides that this should start becoming familiar.

The tool we will be using is called zip2john. The basic usage is like this:

`zip2john [options] [zip file] > [output file]`

After running this we will have a hash text file which can be used in john as we have done so many times now.

`john --wordlist=/usr/share/wordlists/rockyou.txt zip_hash.txt`

## **Answer the questions below**

**What is the password for the secure.zip file?**

Simply use the following command:

zip2john secure.zip > ziphash.txt

![](https://miro.medium.com/v2/resize:fit:700/1*QzaMfSpt13DZ-bWEINMgJg.png)

Using zip2john on the secure.zip file

Then we can crack the hash by using:

john ziphash.txt

![](https://miro.medium.com/v2/resize:fit:700/1*uzsog7Cn5oF7aLA7PT3R5A.png)

Using john on the ziphash

> **_Answer_**: pass123

**What is the contents of the flag inside the zip file?**

You can unzip your file in different ways but I decided to run **_unzip secure.zip._** Afterwards simply read the flag.txt.

![](https://miro.medium.com/v2/resize:fit:700/1*12qjS2XFGzBMSzKkcGdIOw.png)

Unzipping the secure.zip file

> **_Answer_**: THM{w3ll_d0n3_h4sh_r0y4l}

# Task 10 (Cracking Password Protected RAR Archives)

This task is very similar to the previous one. Instead of a zip file, we will be cracking a rar archive, a different archiving format.

The process is very similar, but this time we will be using the rar2john tool. We will again convert the archived file into a hash format, and use john afterwards to crack it. The basic syntax:

`rar2john [rar file] > [output file]`

Followed by running john as we are used to.

## Questions

**What is the password for the secure.rar file?**

I had an issue with rar2john not being recognized in the terminal of my AttackBox. You can solve this by running:

cp /opt/john/rar2john /usr/local/bin

You can then run the commands as normal. This should be easy:

rar2john secure.rar > rarhash.txt

Followed by:

john rarhash.txt

![](https://miro.medium.com/v2/resize:fit:700/1*AOyViPDlrnuSxEh8DMh6Cw.png)

Cracking the rar password

> **_Answer_**: password

**What is the contents of the flag inside the zip file?**

This time we will be using unrar to unpack the archive (use _sudo apt install unrar_ if you don’t have it installed)

unrar e secure.rar

Follow this by simply reading the flag.txt file.

![](https://miro.medium.com/v2/resize:fit:700/1*J6bCF-PPNJH8f4mQSfy88A.png)

Reading the flag hidden in the archive

> **_Answer_**: THM{r4r_4rch1ve5_th15_t1m3}

# Task 11 (Cracking SSH Keys with John)

A final challenge! This time we are going to crack SSH keys with John. As before, John was a specific tool for this job. SSH keys are used to authenticate yourself when logging into a remote machine over SSH. However, doing so often requires a password as well, and we will be cracking this with John.

The specific tool we will be using is called SSH2John, which will convert the id_rsa private key into a hash format. The syntax is similar as before.

`ssh2john [id_rsa private key file] > [output file]`

Followed by:

`john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa_hash.txt`

Note: In my case I did not have ssh2john installed. As an alternative, you can use the python script located at /opt/john/ssh2john.py:

`python3 /opt/ssh2john.py`

## Questions

**What is the SSH private key password?**

Use the following commands:

python3 /opt/john/ssh2john.py id_rsa.id_rsa > hashedkey.txtjohn --wordlist=/usr/share/wordlists/rockyou.txt hashedkey.txt

This gives the following result:

![](https://miro.medium.com/v2/resize:fit:700/1*2FdLrVaNV18XXYEx5ZYPBQ.png)

Cracking the SSH key

> **_Answer_**: mango

# Task 12 (Further Reading)

We are done, great job!

**Credit:** This information was adapted from an excellent guide on [Medium](https://medium.com/@JAlblas/tryhackme-john-the-ripper-walkthrough-75331d14748c). Be sure to check out the original post for more details.

# How to Crack Passwords using John The Ripper – Pentesting Tutorial

![How to Crack Passwords using John The Ripper – Pentesting Tutorial](https://www.freecodecamp.org/news/content/images/size/w2000/2022/11/john-the-ripper.png)

If you are a pen-tester, cracking passwords is something you will be doing on a daily basis. This can include login passwords, file passwords, and almost anything that is protected using a password.

John the Ripper (JtR) is a popular password-cracking tool. John supports many encryption technologies for Windows and Unix systems (Mac included).

One remarkable feature of John is that it can autodetect the encryption for common formats. This will save you a lot of time in researching the hash formats and finding the correct tool to crack them.

John is also a dictionary-based tool. This means that it works with a dictionary of common passwords to compare it with the hash in hand. Here is a common password list called [rockyou.txt](https://github.com/praetorian-inc/Hob0Rules/blob/master/wordlists/rockyou.txt.gz).

While you can use popular wordlists like RockYou, John also has its own set of wordlists with thousands of common passwords. This makes John very effective when cracking systems with weak passwords.

This is how John works by default:

- recognize the hash type of the current hash
- generate hashes on the fly for all the passwords in the dictionary
- stop when a generated hash matches the current hash.

This is not the only way John finds a password. You can also customize John based on your requirements. For example, you can specify the password format using the — — format flag.

In this article, we will first install John followed by a walkthrough of the different modes you can use. We will then use John to crack passwords for three different use cases — a Windows password, a Linux password, and a zip file password.

A **quick disclaimer** before we get started: do not use this tool for nefarious purposes. This is meant to be an educational tutorial to help you protect yourself and your clients or team from password attacks. Use this information responsibly and safely!

Let's get cracking.

## How to Install John the Ripper

If you are using Kali Linux, John is pre-installed. You can use John by typing the following command:

```
$ john
```

For Ubuntu/Debian, you can get John from the apt source. Here is the command to install John in Ubuntu:

```
$ apt install John
```

In Mac, you can find John in [Homebrew](https://brew.sh/):

```
$ brew install john
```

For windows and other operating systems, you can [find the binaries here](https://www.openwall.com/john/).

Once you have installed John, try the help command to make sure your installation is working. The help command can also be used as a reference when working with John.

```
$ john -h
```

Here is the output of the help command:

![image-89](https://www.freecodecamp.org/news/content/images/2022/11/image-89.png)

John help command

## How to Use John the Ripper

Now that we know what John is, let's look at the three modes it offers you. You will be using one of these three for most of your use cases.

- Single crack mode
- Wordlist mode
- Incremental mode

Let’s look at each one of them in detail.

### What is Single Crack Mode?

In single-crack mode, John takes a string and generates variations of that string in order to generate a set of passwords.

For example, if our username is “stealth” and the password is “StEaLtH”, we can use the single mode of John to generate password variations (STEALTH, Stealth, STealth, and so on).

We use the “format” flag to specify the hash type and the “single” flag to let John know we want to use the single crack mode. We will also create a crack.txt file which will contain the username and the hash value of the password.

```
stealth:d776dd32d662b8efbdf853837269bd725203c579
```

Now we can use the following command to use John’s single crack mode:

```
$ john --single --format=raw-sha1 crack.txt
```

And here is the result. You can see that John has successfully found the correct password “StEaLtH”.

![image-90](https://www.freecodecamp.org/news/content/images/2022/11/image-90.png)

John single crack mode

That was fun, wasn't it? Now let’s look at the dictionary mode to crack more complicated passwords.

### What is Dictionary Mode?

In dictionary mode, we will provide John with a list of passwords. John will generate hashes for these on the fly and compare them with our password hash.

For this example, we will use the RockYou wordlist. If you are using Kali, you can find it at /usr/share/wordlists/rockyou.txt. We will also have a crack.txt file with just the password hash.

```
edba955d0ea15fdef4f61726ef97e5af507430c0
```

Here is the command to run John in dictionary mode using the wordlist.

```
$ john --wordlist=/usr/share/wordlists/rockyou.txt --format=raw-sha1 crack.txt
```

And John finds the password pretty quickly.

![image-91](https://www.freecodecamp.org/news/content/images/2022/11/image-91.png)

John wordlist mode

The weaker the password is, the quicker John can figure it out. This is why it is always recommended to have strong passwords.

### What is Incremental Mode?

Incremental mode is the most powerful mode provided by John. It tries all possible character combinations as passwords.

This sounds great, but there is a problem. The cracking can go on for a long time if the password is too long or if it's a combination of alphanumeric characters and symbols.

You will rarely use this mode unless you have no other option. In typical cases, a combination of Social Engineering attacks and wordlist mode will help you crack most of the hashes.

If you would like to try the incremental mode, here is the syntax.

```
$ john -i:digits passwordfile.txt
```

Here, the -i flag tells John that we want to use the increment mode. The “digits” placeholder can be used to set the maximum number of digits in the password.

You can also add the “format” option to make it easier for John to start cracking.

## Use Cases for John the Ripper

Now that you understand the different modes of John, let’s look at a few use cases.

We will use John to crack three types of hashes: a windows NTLM password, a Linux shadow password, and the password for a zip file.

### How to Crack a Windows Password

Let's start with Windows. In Windows, the password hashes are stored in the [SAM database](https://en.wikipedia.org/wiki/Security_Account_Manager). SAM uses the LM/NTLM hash format for passwords, so we will be using John to crack one.

Getting passwords from the SAM database is out of scope for this article, but let's assume you have acquired a password hash for a Windows user.

Here is the command to crack it:

```
$ john --format=lm crack.txt
```

The crack.txt will contain the password hash. If John is unable to crack the password using its default wordlist, you can use the RockYou wordlist using the — — wordlist flag.

### How to Crack a Linux Password

Now, let's crack a Linux password. In Linux, there are two important files saved in the /etc folder: passwd and shadow.

- /etc/passwd -> stores information like username, user id, login shell, and so on.
- /etc/shadow -> contains password hash, password expiry, and so on.

In addition to the “john” command, John comes with a few other utilities. One of them is called “unshadow”.

The unshadow command combines the passwd and shadow files together into a single file. This can then be used by John to crack passwords.

Here is how we use the unshadow command:

```
$ unshadow /etc/passwd /etc/shadow > output.db
```

This command will combine the files together and create an output.db file. We can now crack the output.db file using John.

```
$ john output.db
```

John tries to find the password for all the users in the passwd file and generates the output with the list of cracked passwords. Again, you can use custom wordlists via the  — — wordlist flag.

### How to Crack a Zip File Password

Finally, let's crack a zip file password. To do that, we first have to get the hash of the zip file’s password.

Like unshadow, John has another utility called zip2john. zip2john helps us to get the hash from zip files. If you are cracking a .rar file, you can use the rar2john utility.

Here is the syntax to get the password hash of a zip file:

```
$ zip2john file.zip > zip.hashes
```

The above command will get the hash from the zip file and store it in the zip.hashes file. You can then use John to crack the hash.

```
$john zip.hashes
```

John also has several other functionalities that will help you crack a variety of passwords. You can find the [complete documentation for John](https://www.openwall.com/john/doc/) here.

## How to Defend Against Password Attacks

So far we have seen how to crack passwords with John the Ripper. But how do we defend against these types of brute-force attacks?

The simplest way to defend against password attacks is to set a strong password. The stronger the password is, the harder it is to crack.

The second step is to stop using the same passwords for multiple sites. If one site gets hacked, your password will be exposed to the internet. A hacker can then use the email/password combination to test your credentials across other sites. You can check [if your password is on the internet](https://haveibeenpwned.com/) here.

The final step would be to generate random passwords and use a password manager. There are a variety of options including the Chrome built-in [Google password manager](https://passwords.google.com/). If you use a strong password for each site you use, it becomes extremely hard to crack your password.

## Summary

John is a popular and powerful password-cracking tool. It is often used by both penetration testers and black hat hackers for its versatility and ease of use.

From automated hash discovery to dictionary-based attacks, John is a great tool to have in your pentesting toolkit.

Hope this article helped you to understand John the Ripper in detail. You can [connect with me here](https://www.linkedin.com/in/manishmshiva/) or [visit my blog here](https://stealthsecurity.io/).

**Credit:** This information was adapted from an excellent guide on [FreeCodeCamp.com](https://www.freecodecamp.org/news/crack-passwords-using-john-the-ripper-pentesting-tutorial/). Be sure to check out the original post for more details.

<iframe width="560" height="315" src="https://www.youtube.com/embed/rioBjLN4FyY?si=npzUm0dS-2dh1HND" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

**Credit:** This information was adapted from an excellent guide on [YouTube](https://www.youtube.com/watch?v=rioBjLN4FyY). Be sure to check out the original post for more details.

<iframe width="560" height="315" src="https://www.youtube.com/embed/03jC7m46m5w?si=YvkhWXsYNGimj9iE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

**Credit:** This information was adapted from an excellent guide on [YouTube](https://www.youtube.com/watch?v=03jC7m46m5w). Be sure to check out the original post for more details.

<iframe width="560" height="315" src="https://www.youtube.com/embed/AOS-_u_FcpQ?si=-pNqC1HtAcLTa__0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

**Credit:** This information was adapted from an excellent guide on [YouTube](https://www.youtube.com/watch?v=AOS-_u_FcpQ). Be sure to check out the original post for more details.

